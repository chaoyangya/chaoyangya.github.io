<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scaleable=0" name="viewport"><title>cywhat&#39;s 个人博客</title><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/third%20party/jquery.fancybox.css"><link rel="icon" href="/images/avatar.gif"><link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><meta name="generator" content="Hexo 5.4.0"></head><body><header class="header"><div class="header_top"><span class="theme"><a href="/">My blog</a></span><nav class="navbar"><ul class="menu"><li class="menu-item"><i class="fa fa-"></i> <a href="/" class="menu-item-link">HOME</a></li><li class="menu-item"><i class="fa fa-"></i> <a href="/categories" class="menu-item-link">CATEGORIES</a></li><li class="menu-item"><i class="fa fa-"></i> <a href="/archives" class="menu-item-link">ARCHIVES</a></li><li class="menu-item"><i class="fa fa-"></i> <a href="/tags" class="menu-item-link">TAGS</a></li><li class="menu-item"><i class="fa fa-"></i> <a href="/about" class="menu-item-link">ABOUT</a></li></ul></nav></div><i id="homelink" data-link="https://cywhat.pp.ua/"></i><div class="header_bottom"><div class="blog-title"><a target="_blank" rel="noopener" href="https://github.com/Chorer/hexo-theme-PureBlue" class="logo">cywhat&#39;s 个人博客</a><div class="descrs"><div class="descr">个人博客</div><div class="descr">" Do what you love,Love what you do "</div></div><div class="blog-down"><a href="javascript:void(0);"><i class="fa fa-angle-double-down fa-2x"></i></a></div></div></div></header><main class="main"><div class="tag-page-container"><div class="tag-page-title"><span class="tag_title">Node</span></div><div class="tag-page-cards"><section class="posts"><article class="post_full post_except"><h1 class="post-title"><a class="post-title-link" href="/2021/09/29/avn自动切换node版本/">avn自动切换node版本</a></h1><div class="post-info"><div class="post-date"><i class="fa fa-calendar"></i>&nbsp2021-09-29&nbsp&nbsp&nbsp</div><span class="post-words"><i class="fa fa-pencil-square-o"></i>&nbsp229&nbsp字&nbsp&nbsp </span><span class="post-time"><i class="fa fa-clock-o"></i>&nbsp1 分钟&nbsp&nbsp&nbsp</span></div><div class="post-content"><a href="/2021/09/29/avn自动切换node版本/"><p><strong>前景：</strong></p><p><code>服务器中俩个服务需要用到node，但是其中一个服务需要使用低版本的node，另一个则需要高版本node</code></p><h2 id="1-首先安装nvm"><a href="#1-首先安装nvm" class="headerlink" title="1.首先安装nvm"></a>1.首先安装nvm</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.2/install.sh | bash</span><br><span class="line"></span><br><span class="line"><span class="comment">#添加环境变量</span></span><br><span class="line">vim ~/.bashrc</span><br><span class="line"></span><br><span class="line"><span class="comment">#内容如下：</span></span><br><span class="line"><span class="built_in">export</span> NVM_DIR=<span class="string">&quot;<span class="variable">$HOME</span>/.nvm&quot;</span></span><br><span class="line">[ -s <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span> ] &amp;&amp; \. <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span>  <span class="comment"># This loads nvm</span></span><br><span class="line">[ -s <span class="string">&quot;<span class="variable">$NVM_DIR</span>/bash_completion&quot;</span> ] &amp;&amp; \. <span class="string">&quot;<span class="variable">$NVM_DIR</span>/bash_completion&quot;</span>  <span class="comment"># This loads nvm bash_completion</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#让配置生效</span></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><h2 id="2-安装avn"><a href="#2-安装avn" class="headerlink" title="2.安装avn"></a>2.安装avn</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm i -g avn</span><br></pre></td></tr></table></figure><h2 id="3-设置avn"><a href="#3-设置avn" class="headerlink" title="3.设置avn"></a>3.设置avn</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">avn setup</span><br></pre></td></tr></table></figure><h2 id="4-进入想启动项目的根目录新建文件"><a href="#4-进入想启动项目的根目录新建文件" class="headerlink" title="4.进入想启动项目的根目录新建文件"></a>4.进入想启动项目的根目录新建文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> XX</span><br><span class="line"></span><br><span class="line"><span class="comment">#新建 .node-version文件</span></span><br><span class="line">touch .node-version</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置需要使用的node版本</span></span><br><span class="line"><span class="built_in">echo</span> v8.9.0 &gt;&gt; .node-version   <span class="comment">#V后面跟版本号</span></span><br></pre></td></tr></table></figure><h2 id="5-把avn加入系统变量"><a href="#5-把avn加入系统变量" class="headerlink" title="5.把avn加入系统变量"></a>5.把avn加入系统变量</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> `<span class="built_in">source</span> <span class="string">&quot;<span class="variable">$HOME</span>/.avn/bin/avn.sh&quot;</span> <span class="comment"># load avn` &gt;&gt; ~/.bashrc    #这里如果是zshrc的话自行更改</span></span><br></pre></td></tr></table></figure><h2 id="6-然后在根目录查看node和npm版本"><a href="#6-然后在根目录查看node和npm版本" class="headerlink" title="6.然后在根目录查看node和npm版本"></a>6.然后在根目录查看node和npm版本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line"></span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure></a><div class="default">阅读全文......</div></div><div class="post-sub_container"><span class="post-tags"><i class="fa fa-tags"></i> <a href="/tags/Node/">Node</a> <a href="/tags/Avn/">Avn</a></span></div></article></section><section class="posts"><article class="post_full post_except"><h1 class="post-title"><a class="post-title-link" href="/2021/08/17/node切换版本/">node切换版本</a></h1><div class="post-info"><div class="post-date"><i class="fa fa-calendar"></i>&nbsp2021-08-17&nbsp&nbsp&nbsp</div><span class="post-words"><i class="fa fa-pencil-square-o"></i>&nbsp116&nbsp字&nbsp&nbsp </span><span class="post-time"><i class="fa fa-clock-o"></i>&nbsp1 分钟&nbsp&nbsp&nbsp</span></div><div class="post-content"><a href="/2021/08/17/node切换版本/"><h2 id="1-安装n"><a href="#1-安装n" class="headerlink" title="1.安装n"></a>1.安装n</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g n</span><br></pre></td></tr></table></figure><h2 id="2-使用-n-下载所需node"><a href="#2-使用-n-下载所需node" class="headerlink" title="2.使用 n 下载所需node"></a>2.使用 n 下载所需node</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ n 10.16.3  <span class="comment">#版本号 不需要加v</span></span><br></pre></td></tr></table></figure><h3 id="下载最新版本"><a href="#下载最新版本" class="headerlink" title="下载最新版本"></a>下载最新版本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ n latest</span><br></pre></td></tr></table></figure><h3 id="删除某个版本"><a href="#删除某个版本" class="headerlink" title="删除某个版本"></a>删除某个版本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ n rm 10.16.3  <span class="comment">#版本号 不需要加v</span></span><br></pre></td></tr></table></figure><h3 id="查看已安装版本"><a href="#查看已安装版本" class="headerlink" title="查看已安装版本"></a>查看已安装版本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ n ls</span><br></pre></td></tr></table></figure><h2 id="3-新安装的node版本-需要使用ls切换"><a href="#3-新安装的node版本-需要使用ls切换" class="headerlink" title="3.新安装的node版本,需要使用ls切换"></a>3.新安装的node版本,需要使用ls切换</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ n ls 10.16.3 <span class="comment">#会出现所安装的所有node版本,使用版本在最上方</span></span><br></pre></td></tr></table></figure><h2 id="4-查看node版本"><a href="#4-查看node版本" class="headerlink" title="4.查看node版本"></a>4.查看node版本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ node -v</span><br></pre></td></tr></table></figure></a><div class="default">阅读全文......</div></div><div class="post-sub_container"><span class="post-tags"><i class="fa fa-tags"></i> <a href="/tags/Node/">Node</a></span></div></article></section><section class="posts"><article class="post_full post_except"><h1 class="post-title"><a class="post-title-link" href="/2021/07/14/npm切换版本/">npm切换版本</a></h1><div class="post-info"><div class="post-date"><i class="fa fa-calendar"></i>&nbsp2021-07-14&nbsp&nbsp&nbsp</div><span class="post-words"><i class="fa fa-pencil-square-o"></i>&nbsp114&nbsp字&nbsp&nbsp </span><span class="post-time"><i class="fa fa-clock-o"></i>&nbsp1 分钟&nbsp&nbsp&nbsp</span></div><div class="post-content"><a href="/2021/07/14/npm切换版本/"><h1 id="Npm切换版本"><a href="#Npm切换版本" class="headerlink" title="Npm切换版本"></a>Npm切换版本</h1><p>npm需要切换版本如果没有安装nvm很头疼,会存在以下三种情况:</p><pre><code>① Node环境还在,只是Npm被卸载
② Npm和Node版本不兼容
③ 存在多个Npm版本,无法切换
</code></pre><p><strong>PS:如果存在以上三种情况的,强烈建议,直接Nvm重新装Node,简单粗暴</strong></p><h2 id="卸载Node"><a href="#卸载Node" class="headerlink" title="卸载Node"></a>卸载Node</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nvm uninstall vx.x.x</span><br></pre></td></tr></table></figure><h2 id="安装指定Node版本"><a href="#安装指定Node版本" class="headerlink" title="安装指定Node版本"></a>安装指定Node版本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nvm install vx.x.x</span><br></pre></td></tr></table></figure><h2 id="查看Node-Npm版本"><a href="#查看Node-Npm版本" class="headerlink" title="查看Node/Npm版本"></a>查看Node/Npm版本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ node -v</span><br><span class="line"></span><br><span class="line">$ npm -v</span><br></pre></td></tr></table></figure></a><div class="default">阅读全文......</div></div><div class="post-sub_container"><span class="post-tags"><i class="fa fa-tags"></i> <a href="/tags/Node/">Node</a> <a href="/tags/Npm/">Npm</a></span></div></article></section><section class="posts"><article class="post_full post_except"><h1 class="post-title"><a class="post-title-link" href="/2021/07/14/nvm-Cannot-uninstall-currently-active-node-version-vx-x-x-inferred-from-x-x-x/">nvm: Cannot uninstall currently-active node version, vx.x.x (inferred from x.x.x)</a></h1><div class="post-info"><div class="post-date"><i class="fa fa-calendar"></i>&nbsp2021-07-14&nbsp&nbsp&nbsp</div><span class="post-words"><i class="fa fa-pencil-square-o"></i>&nbsp58&nbsp字&nbsp&nbsp </span><span class="post-time"><i class="fa fa-clock-o"></i>&nbsp1 分钟&nbsp&nbsp&nbsp</span></div><div class="post-content"><a href="/2021/07/14/nvm-Cannot-uninstall-currently-active-node-version-vx-x-x-inferred-from-x-x-x/"><p>#使用nvm卸载node版本时报错如下:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ nvm: Cannot uninstall currently-active node version, vx.x.x (inferred from</span><br><span class="line">  x.x.x)</span><br></pre></td></tr></table></figure><h2 id="需要先退出已经使用的node环境"><a href="#需要先退出已经使用的node环境" class="headerlink" title="需要先退出已经使用的node环境"></a>需要先退出已经使用的node环境</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nvm deactivate</span><br></pre></td></tr></table></figure><h2 id="然后再执行卸载命令"><a href="#然后再执行卸载命令" class="headerlink" title="然后再执行卸载命令"></a>然后再执行卸载命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nvm uninstall vx.x.x</span><br></pre></td></tr></table></figure></a><div class="default">阅读全文......</div></div><div class="post-sub_container"><span class="post-tags"><i class="fa fa-tags"></i> <a href="/tags/Node/">Node</a> <a href="/tags/Npm/">Npm</a> <a href="/tags/Nvm/">Nvm</a></span></div></article></section><section class="posts"><article class="post_full post_except"><h1 class="post-title"><a class="post-title-link" href="/2021/04/07/Linux管理node版本/">Linux管理node版本</a></h1><div class="post-info"><div class="post-date"><i class="fa fa-calendar"></i>&nbsp2021-04-07&nbsp&nbsp&nbsp</div><span class="post-words"><i class="fa fa-pencil-square-o"></i>&nbsp162&nbsp字&nbsp&nbsp </span><span class="post-time"><i class="fa fa-clock-o"></i>&nbsp1 分钟&nbsp&nbsp&nbsp</span></div><div class="post-content"><a href="/2021/04/07/Linux管理node版本/"><p>1、安装nvm</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.2/install.sh | bash</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.2/install.sh | bash</span><br></pre></td></tr></table></figure><p>2、nvm会自己添加环境变量，但是需要我们手动让环境变量生效</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><p>ps：如果没有环境变量，需要手动添加：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">export</span> NVM_DIR=<span class="string">&quot;<span class="subst">$([ -z <span class="string">&quot;<span class="variable">$&#123;XDG_CONFIG_HOME-&#125;</span>&quot;</span> ] &amp;&amp; printf %s <span class="string">&quot;<span class="variable">$&#123;HOME&#125;</span>/.nvm&quot;</span> || printf %s <span class="string">&quot;<span class="variable">$&#123;XDG_CONFIG_HOME&#125;</span>/nvm&quot;</span>)</span>&quot;</span></span><br><span class="line">[ -s <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span> ] &amp;&amp; \. <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span> <span class="comment"># This loads nvm</span></span><br></pre></td></tr></table></figure><p>3、nvm安装指定版本node</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nvm install v8.9.0</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210407173742911.png" alt="在这里插入图片描述"></p><p>4、切换node版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nvm use v8.9.0</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210407173820659.png" alt="在这里插入图片描述"></p><p>5、查看node版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ node -v</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210407173858582.png" alt="在这里插入图片描述"></p></a><div class="default">阅读全文......</div></div><div class="post-sub_container"><span class="post-tags"><i class="fa fa-tags"></i> <a href="/tags/Linux/">Linux</a> <a href="/tags/Node/">Node</a></span></div></article></section><section class="posts"><article class="post_full post_except"><h1 class="post-title"><a class="post-title-link" href="/2021/03/22/Linux-macos安装newman/">Linux/macos安装newman</a></h1><div class="post-info"><div class="post-date"><i class="fa fa-calendar"></i>&nbsp2021-03-22&nbsp&nbsp&nbsp</div><span class="post-words"><i class="fa fa-pencil-square-o"></i>&nbsp200&nbsp字&nbsp&nbsp </span><span class="post-time"><i class="fa fa-clock-o"></i>&nbsp1 分钟&nbsp&nbsp&nbsp</span></div><div class="post-content"><a href="/2021/03/22/Linux-macos安装newman/"><p>[已解决]Linux/macos安装newman</p><p>一、安装Node环境（<strong>1/2选其一即可</strong>）</p><ol><li>官网下载node包，并上传到linux服务器</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://nodejs.org/en/download/</span><br></pre></td></tr></table></figure><ol start="2"><li>wget安装</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ wget https://nodejs.org/dist/v15.12.0/node-v15.12.0-linux-x64.tar.xz</span><br></pre></td></tr></table></figure><ol start="3"><li>安装解压</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tar -xvf node-v15.12.0-linux-x64.tar.xz</span><br></pre></td></tr></table></figure><ol start="4"><li>移动文件夹并重命名</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mv node-v15.12.0-linux-x64 /opt/node-15</span><br></pre></td></tr></table></figure><ol start="5"><li>配置环境变量</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim ~/.bashrc</span><br></pre></td></tr></table></figure><p>加入以下内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#node </span></span><br><span class="line">$ <span class="built_in">export</span> NODE_HOME=/opt/node-15</span><br><span class="line">$ <span class="built_in">export</span> PATH=<span class="variable">$NODE_HOME</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><ol start="6"><li>让配置生效</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><ol start="7"><li>查看node版本</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ node -v  如跟你安装版本一致即安装成功</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210322160240981.png" alt="在这里插入图片描述"></p><ol start="8"><li>查看npm版本</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm -v  出现版本号即安装成功</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210322160257886.png" alt="在这里插入图片描述"></p><p>二、安装newman</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g newman --registry https://registry.npm.taobao.org/</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>提示如下图无需理会</p><p><img src="https://img-blog.csdnimg.cn/20210322160330423.png"></p><p>查看版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ newman -v</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210322160401214.png" alt="在这里插入图片描述"></p></a><div class="default">阅读全文......</div></div><div class="post-sub_container"><span class="post-tags"><i class="fa fa-tags"></i> <a href="/tags/Linux/">Linux</a> <a href="/tags/Newman/">Newman</a> <a href="/tags/Node/">Node</a></span></div></article></section><section class="posts"><article class="post_full post_except"><h1 class="post-title"><a class="post-title-link" href="/2018/10/17/npm缺少css-loader，-style-compiler，stylus-loader问题，npm没有权限无法全局更新问题/">npm缺少css-loader，/style-compiler，stylus-loader问题，npm没有权限无法全局更新问题</a></h1><div class="post-info"><div class="post-date"><i class="fa fa-calendar"></i>&nbsp2018-10-17&nbsp&nbsp&nbsp</div><span class="post-words"><i class="fa fa-pencil-square-o"></i>&nbsp800&nbsp字&nbsp&nbsp </span><span class="post-time"><i class="fa fa-clock-o"></i>&nbsp3 分钟&nbsp&nbsp&nbsp</span></div><div class="post-content"><a href="/2018/10/17/npm缺少css-loader，-style-compiler，stylus-loader问题，npm没有权限无法全局更新问题/"><p>​<br>ERROR in ./node_modules/css-loader!./node_modules/vue-loader/lib/style-compiler?{“vue”:true,”id”:”data-v-a5e4f82a”,”scoped”:false,”hasInlineConfig”:false}!./node_modules/stylus-loader?{“import”:[“<del>@didi/ada/style/mixins.styl”,”/home/xiaoju/manhattan-hera-webapp/client/style/base.styl”]}!./node_modules/vue-loader/lib/selector.js?type=styles&amp;index=0&amp;bustCache!./client/components/panel_links.vue<br>Cannot find module ‘postcss-import’<br>@ ./node_modules/style-loader!./node_modules/css-loader!./node_modules/vue-loader/lib/style-compiler?{“vue”:true,”id”:”data-v-a5e4f82a”,”scoped”:false,”hasInlineConfig”:false}!./node_modules/stylus-loader?{“import”:[“</del>@didi/ada/style/mixins.styl”,”/home/xiaoju/manhattan-hera-webapp/client/style/base.styl”]}!./node_modules/vue-loader/lib/selector.js?type=styles&amp;index=0&amp;bustCache!./client/components/panel_links.vue 4:14-454<br>@ ./client/components/panel_links.vue<br>@ ./client/app.ts<br>@ multi ./client/app.ts</p><p>如下图：</p><p>在测试项目的时候，部署前端在启动前端环境的时候遇到缺少组件css-loader，/style-compiler，stylus-loader，尝试了开启外网，npm的全局安装，单独安装组件( npn install stylus-loader css-loader style-loader style-compiler  –save-dev)后无果，最后在前端大神的指导下，发现是npm的目录没有权限，然后找到了破解npm无法全局安装下载的最新办法！亲测有效！</p><p>##方法一：</p><p>更改npm的默认安装目录</p><p>1、为全局安装创建一个安装目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir ~/.npm-global</span><br></pre></td></tr></table></figure><p>2、配置npm以使用新的目录路径</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm config <span class="built_in">set</span> prefix <span class="string">&#x27;~/.npm-global&#x27;</span></span><br></pre></td></tr></table></figure><p>3、打开或创建一个~/.profile文件并添加以下行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">export</span> PATH=~/.npm-global/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><p>4、然后全局安装npm即可</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install</span><br></pre></td></tr></table></figure><p>5、然后你惊奇的会发现之前全局安装不下来的东西都可以下载下来了</p><p>在success出现的那一刻，会觉得整个虚拟机都美艳不可方物~</p><p>##方法二：使用节点版本管理器重新安装（高效适合高手）</p><p>1、由于npm和node.js产品由不同的实体管理，因此更新和维护可能变得复杂。此外，Node.js安装过程将npm安装在仅具有本地权限的目录中。当您尝试全局运行包时，这可能会导致权限错误。</p><p>为了解决这两个问题，许多开发人员选择使用节点版本管理器或nvm来安装npm。版本管理器将避免权限错误，并将解决更新Node.js和npm的复杂性。</p><p>此外，开发人员可以使用nvm在多个版本的npm上测试他们的应用程序。nvm使您可以轻松切换npm以及节点版本。这样可以更轻松地确保您的应用程序适用于大多数用户，即使他们使用的是其他版本的npm。如果您决定安装版本管理器，请使用您选择的版本管理器的说明来学习如何切换版本，并了解如何使用最新版本的npm保持最新。</p><p>nvm如何安装具体请参考</p><p><a target="_blank" rel="noopener" href="https://github.com/creationix/nvm/blob/master/README.md#installation">https://github.com/creationix/nvm/blob/master/README.md#installation</a></p><p>2、安装完之后验证登陆系统将提示您输入用户名，密码和电子邮件。请务必使用与在网站上输入的用户名完全相同的方式拼写您的用户名，否则您将创建一个新帐户。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm login</span><br></pre></td></tr></table></figure><p>3、要测试您是否已成功登录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm whoami</span><br></pre></td></tr></table></figure><p>4、然后尝试更新你的npm版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install npm@next -g</span><br></pre></td></tr></table></figure></a><div class="default">阅读全文......</div></div><div class="post-sub_container"><span class="post-tags"><i class="fa fa-tags"></i> <a href="/tags/Node/">Node</a> <a href="/tags/Npm/">Npm</a></span></div></article></section></div></div></main><footer class="footer"><div class="footer-info"><p>Copyright © 2018 - 2021 cywhat | Do not go gentle into that good night.</p><p class="a">Powered by <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/">Hexo</a> | Theme - <a target="_blank" rel="noopener" href="https://github.com/Chorer/hexo-theme-PureBlue">PureBlue</a></p></div></footer><script src="https://code.jquery.com/jquery-3.3.1.min.js"></script><script src="/js/navbar.js"></script><script src="/js/pace.min.js"></script><script src="/js/code.js"></script><script src="/js/load.js"></script><script src="/js/search.js"></script><script src="/js/post-except.js"></script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid="></script></body></html>